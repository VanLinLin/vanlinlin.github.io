<style>
    /* 對 iframe 的 body 進行基本重置和置中設定 */
    body, html {
        margin: 0;
        padding: 0;
        text-align: center; /* 讓內部 inline-block 的元素可以水平置中 */
        background-color: #FFF;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }
    h2 {
        font-size: 1.2em;
        margin: 1em 0;
        color: #555;
        font-weight: bold;
    }
    
    /* 地球儀的外層容器，設為 inline-block 來實現置中 */
    #globe-wrapper {
        display: inline-block;
        width: 100%;
        max-width: 500px;  /* 您可以調整地球的最大寬度 */
        padding-top: 100%; /* 關鍵：這會創建一個 1:1 的高寬比容器 */
        position: relative;
    }

    /* 地球儀的渲染區域 */
    #globeViz {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    #loading-message {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #888;
    }
</style>

<h2>🌍 Global Collaborations</h2>
<div id="globe-wrapper">
    <div id="globeViz"></div>
    <div id="loading-message">Loading Globe...</div>
</div>

<script src="https://unpkg.com/globe.gl"></script>
<script>
    window.addEventListener('load', function() {
        const globeContainer = document.getElementById('globeViz');
        const loadingMessage = document.getElementById('loading-message');

        if (globeContainer) {
            loadingMessage.style.display = 'none';
            const globe = Globe()
                (globeContainer)
                .globeImageUrl('//unpkg.com/three-globe/example/img/earth-night.jpg')
                .backgroundImageUrl('//unpkg.com/three-globe/example/img/night-sky.png')
                .backgroundColor('rgba(255,255,255,0)')
                .showGraticules(true)
                .pointsData([
                    { lat: 22.9987, lng: 120.2195, size: 0.5, color: 'yellow' },
                    { lat: 24.1231, lng: 120.6740, size: 0.5, color: 'green' },
                    { lat: 55.9533, lng: -3.1883,  size: 0.5, color: 'red' }
                ])
                .pointAltitude(0).pointColor('color').pointRadius('size');

            globe.pointOfView({ lat: 23.5, lng: 121, altitude: 1 });
            globe.controls().autoRotate = true;
            globe.controls().autoRotateSpeed = 0.4;
            globe.controls().enableZoom = false;
        }
    });
</script>