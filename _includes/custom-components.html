<h2 id="visitor-map">🗺️ Visitor Map</h2>
<div id="revolvermaps-container" style="text-align: center;"></div>

<h2 id="global-collaborations">🌍 Global Collaborations</h2>
<div id="globe-wrapper" style="display: flex; justify-content: center; align-items: center; overflow: hidden; height: 300px; max-width: 600px; margin: 20px auto; border-radius: 10px; position: relative; background: #000;">
  <div id="globeViz" style="width: 100%; height: 100%;"></div>
</div>

<script>
// 等待整個頁面（包含所有圖片和樣式）都載入完成
document.addEventListener("DOMContentLoaded", function() {

  // 動態建立並插入 RevolverMaps 的 script
  var revolverScript = document.createElement('script');
  revolverScript.type = 'text/javascript';
  revolverScript.async = true;
  revolverScript.src = '//rf.revolvermaps.com/0/0/6.js?i=54e0ojatafc&m=7&c=e63100&cr1=ffffff&f=arial&l=0&bv=90&lx=-420&ly=420&hi=20&he=7&hc=a8ddff&rs=80';
  document.getElementById('revolvermaps-container').appendChild(revolverScript);

  // 動態建立 globe.gl 的 script
  var globeScript = document.createElement('script');
  globeScript.src = 'https://unpkg.com/globe.gl';
  document.head.appendChild(globeScript);

  // 當 globe.gl 的 script 載入完成後，才執行初始化
  globeScript.onload = function() {
    const globeContainer = document.getElementById('globeViz');
    if (globeContainer) {
      const globe = Globe()
        (globeContainer)
        .globeImageUrl('//unpkg.com/three-globe/example/img/earth-dark.jpg')
        .backgroundColor('rgba(0,0,0,0)')
        .pointsData([
            { lat: 22.9987, lng: 120.2195, size: 0.5, color: 'yellow' }, // NCKU
            { lat: 24.1231, lng: 120.6740, size: 0.5, color: 'green' },  // NCHU
            { lat: 55.9533, lng: -3.1883,  size: 0.5, color: 'red' }      // example
        ])
        .pointAltitude(0)
        .pointColor('color')
        .pointRadius('size');

      globe.controls().autoRotate = true;
      globe.controls().autoRotateSpeed = 0.5;
      globe.controls().enableZoom = false; // 禁用滾輪縮放
    }
  };
});
</script>